{% extends "teacher_base.html" %}

{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
<div class="card mb-4">
  <div class="card-body">
    <div class="row align-items-center">
      <div class="col-md-8">
        <h2 class="mb-3">Welcome, {{ session['teacher_name'] }}</h2>
        <p class="lead text-muted mb-0">Teacher Dashboard Overview</p>
      </div>
      <div class="col-md-4 text-md-end">
        <img src="https://img.freepik.com/free-vector/hand-drawn-teacher-holding-book_23-2149457032.jpg" alt="Teacher" style="max-height: 120px;">
      </div>
    </div>
  </div>
</div>

<!-- Stats Cards -->
<div class="row mb-4">
  <div class="col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-muted mb-2">Total Students</h6>
            <h3 class="mb-0">{{ total_students }}</h3>
          </div>
          <div class="bg-danger bg-opacity-10 p-3 rounded">
            <i class="bi bi-people-fill text-danger" style="font-size: 1.5rem;"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-muted mb-2">Active Groups</h6>
            <h3 class="mb-0">{{ total_groups }}</h3>
          </div>
          <div class="bg-danger bg-opacity-10 p-3 rounded">
            <i class="bi bi-diagram-3-fill text-danger" style="font-size: 1.5rem;"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-muted mb-2">Ongoing Projects</h6>
            <h3 class="mb-0">{{ active_projects }}</h3>
          </div>
          <div class="bg-danger bg-opacity-10 p-3 rounded">
            <i class="bi bi-kanban-fill text-danger" style="font-size: 1.5rem;"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Quick Actions -->
<div class="row mb-4">
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title mb-4">Quick Actions</h5>
        <div class="d-grid gap-2">
          <a href="{{ url_for('teacher.assignment_management') }}" class="btn btn-outline-danger text-start">
            <i class="bi bi-plus-circle me-2"></i> Create New Assignment
          </a>
          <a href="{{ url_for('teacher.group_management') }}" class="btn btn-outline-danger text-start">
            <i class="bi bi-people-fill me-2"></i> Manage Groups
          </a>
          <a href="{{ url_for('teacher.student_monitoring') }}" class="btn btn-outline-danger text-start">
            <i class="bi bi-clipboard-data me-2"></i> View Student Progress
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title mb-4">Recent Activity</h5>
        <div class="list-group list-group-flush">
          <div class="list-group-item border-0">
            <div class="d-flex w-100 justify-content-between">
              <h6 class="mb-1">New group formed</h6>
              <small class="text-muted">2 days ago</small>
            </div>
            <p class="mb-1 text-muted">Group "Python Developers" created</p>
          </div>
          <div class="list-group-item border-0">
            <div class="d-flex w-100 justify-content-between">
              <h6 class="mb-1">Assignment submitted</h6>
              <small class="text-muted">3 days ago</small>
            </div>
            <p class="mb-1 text-muted">15 students submitted Module 3 assignment</p>
          </div>
          <div class="list-group-item border-0">
            <div class="d-flex w-100 justify-content-between">
              <h6 class="mb-1">Project update</h6>
              <small class="text-muted">5 days ago</small>
            </div>
            <p class="mb-1 text-muted">Group "Web Designers" updated their project</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}